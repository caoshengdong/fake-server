import{j as ye,R as ze}from"./vendor.82aea7ea.js";import{p as l}from"./react-datasheet.9c0700a8.js";var y=typeof window<"u"?window:null,Q=y===null,W=Q?void 0:y.document,b="addEventListener",O="removeEventListener",J="getBoundingClientRect",N="_a",D="_b",w="_c",H="horizontal",E=function(){return!1},xe=Q?"calc":["","-webkit-","-moz-","-o-"].filter(function(s){var i=W.createElement("div");return i.style.cssText="width:"+s+"calc(9px)",!!i.style.length}).shift()+"calc",oe=function(s){return typeof s=="string"||s instanceof String},ae=function(s){if(oe(s)){var i=W.querySelector(s);if(!i)throw new Error("Selector "+s+" did not match a DOM element");return i}return s},p=function(s,i,o){var a=s[i];return a!==void 0?a:o},q=function(s,i,o,a){if(i){if(a==="end")return 0;if(a==="center")return s/2}else if(o){if(a==="start")return 0;if(a==="center")return s/2}return s},be=function(s,i){var o=W.createElement("div");return o.className="gutter gutter-"+i,o},Oe=function(s,i,o){var a={};return oe(i)?a[s]=i:a[s]=xe+"("+i+"% - "+o+"px)",a},De=function(s,i){var o;return o={},o[s]=i+"px",o},se=function(s,i){if(i===void 0&&(i={}),Q)return{};var o=s,a,u,g,v,z,f;Array.from&&(o=Array.from(o));var M=ae(o[0]),A=M.parentNode,U=getComputedStyle?getComputedStyle(A):null,$=U?U.flexDirection:null,F=p(i,"sizes")||o.map(function(){return 100/o.length}),L=p(i,"minSize",100),x=Array.isArray(L)?L:o.map(function(){return L}),_=p(i,"maxSize",1/0),R=Array.isArray(_)?_:o.map(function(){return _}),m=p(i,"expandToMin",!1),h=p(i,"gutterSize",10),G=p(i,"gutterAlign","center"),X=p(i,"snapOffset",30),le=Array.isArray(X)?X:o.map(function(){return X}),Y=p(i,"dragInterval",1),T=p(i,"direction",H),Z=p(i,"cursor",T===H?"col-resize":"row-resize"),fe=p(i,"gutter",be),V=p(i,"elementStyle",Oe),ce=p(i,"gutterStyle",De);T===H?(a="width",u="clientX",g="left",v="right",z="clientWidth"):T==="vertical"&&(a="height",u="clientY",g="top",v="bottom",z="clientHeight");function B(r,e,t,n){var d=V(a,e,t,n);Object.keys(d).forEach(function(c){r.style[c]=d[c]})}function de(r,e,t){var n=ce(a,e,t);Object.keys(n).forEach(function(d){r.style[d]=n[d]})}function C(){return f.map(function(r){return r.size})}function ee(r){return"touches"in r?r.touches[0][u]:r[u]}function te(r){var e=f[this.a],t=f[this.b],n=e.size+t.size;e.size=r/this.size*n,t.size=n-r/this.size*n,B(e.element,e.size,this[D],e.i),B(t.element,t.size,this[w],t.i)}function pe(r){var e,t=f[this.a],n=f[this.b];!this.dragging||(e=ee(r)-this.start+(this[D]-this.dragOffset),Y>1&&(e=Math.round(e/Y)*Y),e<=t.minSize+t.snapOffset+this[D]?e=t.minSize+this[D]:e>=this.size-(n.minSize+n.snapOffset+this[w])&&(e=this.size-(n.minSize+this[w])),e>=t.maxSize-t.snapOffset+this[D]?e=t.maxSize+this[D]:e<=this.size-(n.maxSize-n.snapOffset+this[w])&&(e=this.size-(n.maxSize+this[w])),te.call(this,e),p(i,"onDrag",E)(C()))}function re(){var r=f[this.a].element,e=f[this.b].element,t=r[J](),n=e[J]();this.size=t[a]+n[a]+this[D]+this[w],this.start=t[g],this.end=t[v]}function ve(r){if(!getComputedStyle)return null;var e=getComputedStyle(r);if(!e)return null;var t=r[z];return t===0?null:(T===H?t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),t)}function ne(r){var e=ve(A);if(e===null||x.reduce(function(c,S){return c+S},0)>e)return r;var t=0,n=[],d=r.map(function(c,S){var I=e*c/100,k=q(h,S===0,S===r.length-1,G),P=x[S]+k;return I<P?(t+=P-I,n.push(0),P):(n.push(I-P),I)});return t===0?r:d.map(function(c,S){var I=c;if(t>0&&n[S]-t>0){var k=Math.min(t,n[S]-t);t-=k,I=c-k}return I/e*100})}function ge(){var r=this,e=f[r.a].element,t=f[r.b].element;r.dragging&&p(i,"onDragEnd",E)(C()),r.dragging=!1,y[O]("mouseup",r.stop),y[O]("touchend",r.stop),y[O]("touchcancel",r.stop),y[O]("mousemove",r.move),y[O]("touchmove",r.move),r.stop=null,r.move=null,e[O]("selectstart",E),e[O]("dragstart",E),t[O]("selectstart",E),t[O]("dragstart",E),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",r.gutter.style.cursor="",r.parent.style.cursor="",W.body.style.cursor=""}function me(r){if(!("button"in r&&r.button!==0)){var e=this,t=f[e.a].element,n=f[e.b].element;e.dragging||p(i,"onDragStart",E)(C()),r.preventDefault(),e.dragging=!0,e.move=pe.bind(e),e.stop=ge.bind(e),y[b]("mouseup",e.stop),y[b]("touchend",e.stop),y[b]("touchcancel",e.stop),y[b]("mousemove",e.move),y[b]("touchmove",e.move),t[b]("selectstart",E),t[b]("dragstart",E),n[b]("selectstart",E),n[b]("dragstart",E),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none",t.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",e.gutter.style.cursor=Z,e.parent.style.cursor=Z,W.body.style.cursor=Z,re.call(e),e.dragOffset=ee(r)-e.end}}F=ne(F);var j=[];f=o.map(function(r,e){var t={element:ae(r),size:F[e],minSize:x[e],maxSize:R[e],snapOffset:le[e],i:e},n;if(e>0&&(n={a:e-1,b:e,dragging:!1,direction:T,parent:A},n[D]=q(h,e-1===0,!1,G),n[w]=q(h,!1,e===o.length-1,G),$==="row-reverse"||$==="column-reverse")){var d=n.a;n.a=n.b,n.b=d}if(e>0){var c=fe(e,T,t.element);de(c,h,e),n[N]=me.bind(n),c[b]("mousedown",n[N]),c[b]("touchstart",n[N]),A.insertBefore(c,t.element),n.gutter=c}return B(t.element,t.size,q(h,e===0,e===o.length-1,G),e),e>0&&j.push(n),t});function ie(r){var e=r.i===j.length,t=e?j[r.i-1]:j[r.i];re.call(t);var n=e?t.size-r.minSize-t[w]:r.minSize+t[D];te.call(t,n)}f.forEach(function(r){var e=r.element[J]()[a];e<r.minSize&&(m?ie(r):r.minSize=e)});function Se(r){var e=ne(r);e.forEach(function(t,n){if(n>0){var d=j[n-1],c=f[d.a],S=f[d.b];c.size=e[n-1],S.size=t,B(c.element,c.size,d[D],c.i),B(S.element,S.size,d[w],S.i)}})}function he(r,e){j.forEach(function(t){if(e!==!0?t.parent.removeChild(t.gutter):(t.gutter[O]("mousedown",t[N]),t.gutter[O]("touchstart",t[N])),r!==!0){var n=V(a,t.a.size,t[D]);Object.keys(n).forEach(function(d){f[t.a].element.style[d]="",f[t.b].element.style[d]=""})}})}return{setSizes:Se,getSizes:C,collapse:function(e){ie(f[e])},destroy:he,parent:A,pairs:j}};function K(s,i){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)===-1&&(o[a]=s[a]);return o}var ue=function(s){function i(){s.apply(this,arguments)}return s&&(i.__proto__=s),i.prototype=Object.create(s&&s.prototype),i.prototype.constructor=i,i.prototype.componentDidMount=function(){var a=this.props;a.children;var u=a.gutter,g=K(a,["children","gutter"]),v=g;v.gutter=function(z,f){var M;return u?M=u(z,f):(M=document.createElement("div"),M.className="gutter gutter-"+f),M.__isSplitGutter=!0,M},this.split=se(this.parent.children,v)},i.prototype.componentDidUpdate=function(a){var u=this,g=this.props;g.children;var v=g.minSize,z=g.sizes,f=g.collapsed,M=K(g,["children","minSize","sizes","collapsed"]),A=M,U=a.minSize,$=a.sizes,F=a.collapsed,L=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],x=L.map(function(m){return u.props[m]!==a[m]}).reduce(function(m,h){return m||h},!1);if(Array.isArray(v)&&Array.isArray(U)){var _=!1;v.forEach(function(m,h){_=_||m!==U[h]}),x=x||_}else Array.isArray(v)||Array.isArray(U)?x=!0:x=x||v!==U;if(x)A.minSize=v,A.sizes=z||this.split.getSizes(),this.split.destroy(!0,!0),A.gutter=function(m,h,G){return G.previousSibling},this.split=se(Array.from(this.parent.children).filter(function(m){return!m.__isSplitGutter}),A);else if(z){var R=!1;z.forEach(function(m,h){R=R||m!==$[h]}),R&&this.split.setSizes(this.props.sizes)}Number.isInteger(f)&&(f!==F||x)&&this.split.collapse(f)},i.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},i.prototype.render=function(){var a=this,u=this.props;u.sizes,u.minSize,u.maxSize,u.expandToMin,u.gutterSize,u.gutterAlign,u.snapOffset,u.dragInterval,u.direction,u.cursor,u.gutter,u.elementStyle,u.gutterStyle,u.onDrag,u.onDragStart,u.onDragEnd,u.collapsed;var g=u.children,v=K(u,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),z=v;return ye("div",{...Object.assign({},{ref:function(f){a.parent=f}},z),children:g})},i}(ze.Component);ue.propTypes={sizes:l.exports.arrayOf(l.exports.number),minSize:l.exports.oneOfType([l.exports.number,l.exports.arrayOf(l.exports.number)]),maxSize:l.exports.oneOfType([l.exports.number,l.exports.arrayOf(l.exports.number)]),expandToMin:l.exports.bool,gutterSize:l.exports.number,gutterAlign:l.exports.string,snapOffset:l.exports.oneOfType([l.exports.number,l.exports.arrayOf(l.exports.number)]),dragInterval:l.exports.number,direction:l.exports.string,cursor:l.exports.string,gutter:l.exports.func,elementStyle:l.exports.func,gutterStyle:l.exports.func,onDrag:l.exports.func,onDragStart:l.exports.func,onDragEnd:l.exports.func,collapsed:l.exports.number,children:l.exports.arrayOf(l.exports.element)};ue.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};export{ue as S};
